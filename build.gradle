group   = 'org.jggug.kobo'
version = '0.1-SNAPSHOT'

usePlugin 'groovy'
usePlugin 'osgi'

repositories {
    mavenCentral()
    //mavenRepo(urls: 'http://repository.jboss.org/maven2/') // for org.eclipse:osgi:3.4.3.R34x_v20081215-1030
}

dependencies {
    groovy 'org.codehaus.groovy:groovy:1.7.0'
    compile 'org.osgi:osgi_R4_core:1.0'
    //compile 'org.eclipse:osgi:3.4.3.R34x_v20081215-1030'
}

configure(jar.osgi) {
    name = 'GroovyOSGiSample'
    version = '0.1'
    instruction 'Bundle-Activator', 'org.jggug.kobo.osgi.GroovyOSGiSampleActivator'
    instruction 'Import-Package',
        'groovy.lang;version="1.7"',
        'org.codehaus.groovy.reflection;version="1.7"',
        'org.codehaus.groovy.runtime;version="1.7"',
        'org.codehaus.groovy.runtime.callsite;version="1.7"',
        'org.osgi.framework;version="1.4"'
    //instruction 'Import-Package', '*'
    //instruction 'Export-Package', '*'
}

// -----------------------------
// for multi-bytes characters
// -----------------------------
def defaultEncoding = 'UTF-8'
compileJava {
    options.encoding = defaultEncoding
}
compileTestJava {
    options.encoding = defaultEncoding
}
compileGroovy {
    groovyOptions.encoding = defaultEncoding
    options.encoding = defaultEncoding
}
compileTestGroovy {
    groovyOptions.encoding = defaultEncoding
    options.encoding = defaultEncoding
}

